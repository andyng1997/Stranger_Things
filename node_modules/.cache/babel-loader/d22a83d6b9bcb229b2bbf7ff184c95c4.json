{"ast":null,"code":"const baseURL = 'https://strangers-things.herokuapp.com/api/2207-FTB-ET-WEB-PT';\nexport const getPosts = async token => {\n  try {\n    const response = await fetch(`${baseURL}/posts`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    const results = await response.json();\n    return results;\n  } catch (error) {\n    console.error('error getting all posts');\n  }\n};\nexport const registerUser = async (username, password) => {\n  try {\n    const response = await fetch(`${baseURL}/users/register`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user: {\n          username: username,\n          password: password\n        }\n      })\n    });\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    console.error('There was an error with registering the user, please try again.');\n  }\n};\nexport const loginUser = async (username, password) => {\n  try {\n    const response = await fetch(`${baseURL}/users/login`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user: {\n          username,\n          password\n        }\n      })\n    });\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    console.error('There was an error logging in the user');\n  }\n};\nexport const getUserDetails = async token => {\n  try {\n    const response = await fetch(`${baseURL}/users/me`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    console.error('There was an error getting user details, please try again.');\n  }\n};\nexport const createPost = async (token, _ref) => {\n  let {\n    title,\n    description,\n    price,\n    location,\n    willDeliver\n  } = _ref;\n  try {\n    const response = await fetch(`${baseURL}/posts`, {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        post: {\n          title,\n          description,\n          price,\n          location,\n          willDeliver\n        }\n      })\n    });\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    console.error('There was an error with creating a new post');\n  }\n};\nexport const deletePost = async (token, postID) => {\n  console.log(postID);\n  try {\n    const response = await fetch(`${baseURL}/posts/${postID}`, {\n      method: \"DELETE\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    const data = await response.json();\n    return data;\n  } catch (ex) {\n    console.log(error);\n    console.log('error deleting post');\n  }\n};\nexport const updatePost = async _ref2 => {\n  let {\n    token,\n    title,\n    description,\n    price,\n    location,\n    willDeliver,\n    _id\n  } = _ref2;\n  try {\n    const response = await fetch(`${baseURL}/posts/${postID}`, {\n      method: \"PATCH\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        post: {\n          title,\n          description,\n          price,\n          location,\n          willDeliver\n        }\n      })\n    });\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    console.error('There was error updating post');\n  }\n};\nexport const createMessage = async _ref3 => {\n  let {\n    postID,\n    token,\n    message\n  } = _ref3;\n  try {\n    const respons = await fetch(`${baseURL}/posts/${postID}/messages`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        message\n      })\n    });\n  } catch (error) {\n    console.error('There was an error creating the message');\n  }\n};","map":{"version":3,"names":["baseURL","getPosts","token","response","fetch","headers","results","json","error","console","registerUser","username","password","method","body","JSON","stringify","user","result","loginUser","getUserDetails","createPost","title","description","price","location","willDeliver","post","deletePost","postID","log","data","ex","updatePost","_id","createMessage","message","respons"],"sources":["C:/Users/Andy/Documents/GitHub/Stranger Things/src/api/api.js"],"sourcesContent":["const baseURL = 'https://strangers-things.herokuapp.com/api/2207-FTB-ET-WEB-PT'\r\n\r\nexport const getPosts = async(token) => {\r\n  try {\r\n    const response = await fetch(`${baseURL}/posts`, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    });\r\n    const results = await response.json();\r\n    return results;\r\n  } catch(error) {\r\n    console.error('error getting all posts')\r\n  }\r\n}\r\n\r\n\r\nexport const registerUser = async (username, password) => {\r\n  try {\r\n    const response = await fetch(`${baseURL}/users/register`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        user: {\r\n          username: username,\r\n          password: password\r\n        }\r\n      })\r\n    })\r\n    const result = await response.json();\r\n    return result;\r\n  } catch(error) {\r\n    console.error('There was an error with registering the user, please try again.')\r\n  }\r\n}\r\n\r\nexport const loginUser = async (username, password) => {\r\n  try {\r\n    const response = await fetch(`${baseURL}/users/login`,{\r\n      method: \"POST\",\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        user: {\r\n          username,\r\n          password\r\n        }\r\n      })\r\n    })\r\n    \r\n    const result = await response.json();\r\n    \r\n    return result;\r\n    \r\n  } catch(error) {\r\n    console.error('There was an error logging in the user')\r\n  }\r\n}\r\n\r\n\r\nexport const getUserDetails = async (token) => {\r\n  try {\r\n    const response = await fetch(`${baseURL}/users/me`, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n    })\r\n    \r\n    const result = await response.json();\r\n    return result;\r\n    \r\n  } catch(error) {\r\n    console.error('There was an error getting user details, please try again.')\r\n  }\r\n}\r\n\r\n\r\nexport const createPost = async (token, {title, description, price, location, willDeliver})=> {\r\n  try {\r\n    const response = await fetch(`${baseURL}/posts`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({\r\n        post: {\r\n          title,\r\n          description,\r\n          price,\r\n          location,\r\n          willDeliver\r\n        }\r\n      })\r\n    })\r\n    \r\n    const result = await response.json();\r\n    return result;\r\n  } catch(error) {\r\n    console.error('There was an error with creating a new post')\r\n  }\r\n}\r\n\r\nexport const deletePost = async (token, postID) => {\r\n  console.log(postID)\r\n  try{\r\n    const response = await fetch(`${baseURL}/posts/${postID}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n})\r\n    \r\n    const data = await response.json();\r\n    return data;\r\n  } catch(ex) {\r\n    console.log(error)\r\n    console.log('error deleting post')\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nexport const updatePost = async ({token, title, description, price, location, willDeliver, _id})=> {\r\n  try {\r\n    const response = await fetch(`${baseURL}/posts/${postID}`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({\r\n        post: {\r\n          title,\r\n          description,\r\n          price,\r\n          location,\r\n          willDeliver\r\n        }\r\n      })\r\n    })\r\n    \r\n    const result = await response.json();\r\n    return result;  \r\n  } catch(error) {\r\n    console.error('There was error updating post')\r\n  }\r\n}\r\n\r\n\r\nexport const createMessage = async ({postID, token, message}) => {\r\n  try {\r\n    const respons = await fetch(`${baseURL}/posts/${postID}/messages`, {\r\n     method: 'POST',\r\n     headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`\r\n     },\r\n     body: JSON.stringify({\r\n      message\r\n     })\r\n    })\r\n  } catch(error) {\r\n    console.error('There was an error creating the message')\r\n  }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}